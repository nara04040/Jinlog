---
title: "HTTP μ™„λ²½ κ°€μ΄λ“: κΈ°μ΄λ¶€ν„° μ‹¤λ¬΄κΉμ§€"
date: "2024-11-20"
author: "Jin"
description: "HTTP ν”„λ΅ν† μ½μ ν•µμ‹¬ κ°λ…λ¶€ν„° μ‹¤λ¬΄ μ μ©κΉμ§€ μƒμ„Έν μ•μ•„λ΄…λ‹λ‹¤"
category: "Network"
tags: ["HTTP", "HTTPS", "Protocol"]
series: "http-series"
seriesOrder: 1
imageUrl: "/next.svg"
---

# HTTP μ™„λ²½ κ°€μ΄λ“: κΈ°μ΄λ¶€ν„° μ‹¤λ¬΄κΉμ§€

## 1. HTTPλ€ λ¬΄μ—‡μΈκ°€?

HTTP(HyperText Transfer Protocol)λ” μ›Ήμ—μ„ λ°μ΄ν„°λ¥Ό μ£Όκ³ λ°›κΈ° μ„ν• ν”„λ΅ν† μ½μ…λ‹λ‹¤. 1989λ…„ ν€ λ²„λ„μ¤ λ¦¬(Tim Berners-Lee)κ°€ μ„¤κ³„ν• μ΄ν›„, μ›Ήμ κΈ°μ΄κ°€ λλ” ν†µμ‹  κ·μ•½μΌλ΅ λ°μ „ν•΄μ™”μµλ‹λ‹¤.

π’΅ **Point**
- ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„ κ°„μ ν†µμ‹  κ·μ•½
- μƒνƒκ°€ μ—†λ”(Stateless) ν”„λ΅ν† μ½
- ν™•μ¥ κ°€λ¥ν• κµ¬μ΅°

### 1.1 μ£Όμ” νΉμ§• μƒμ„Έ μ„¤λ…

#### a) ν΄λΌμ΄μ–ΈνΈ-μ„λ²„ κµ¬μ΅°
```ascii
λΈλΌμ°μ €(ν΄λΌμ΄μ–ΈνΈ)           μ„λ²„
     |                         |
     | ---(μ”μ²­ λ©”μ‹μ§€)-->     |
     |                         |
     | <--(μ‘λ‹µ λ©”μ‹μ§€)---     |
     |                         |
```

- **κ΄€μ‹¬μ‚¬μ λ¶„λ¦¬**: μλ¥Όλ“¤μ–΄ UI/UXλ” **ν΄λΌμ΄μ–ΈνΈ**κ°€, λΉ„μ¦λ‹μ¤ λ΅μ§κ³Ό λ°μ΄ν„°λ” **μ„λ²„**κ°€ λ‹΄λ‹Ή
- **λ…λ¦½μ  μ§„ν™”**: ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„κ°€ κ°κ° λ…λ¦½μ μΌλ΅ λ°μ „ κ°€λ¥

#### b) Stateless(λ¬΄μƒνƒμ„±)

HTTPλ” κ°κ°μ μ”μ²­μ΄ λ…λ¦½μ μΌλ΅ μ²λ¦¬λλ©°, μ„λ²„κ°€ μ΄μ „ μ”μ²­μ μ •λ³΄λ¥Ό μ €μ¥ν•μ§€ μ•λ” νΉμ„±μ„ κ°€μ§‘λ‹λ‹¤.

π’΅ **Stateless vs Stateful λΉ„κµ**

| κµ¬λ¶„ | Stateless | Stateful |
|------|-----------|----------|
|μƒνƒ μ €μ¥|μ„λ²„κ°€ ν΄λΌμ΄μ–ΈνΈ μƒνƒλ¥Ό μ €μ¥ν•μ§€ μ•μ|μ„λ²„κ°€ ν΄λΌμ΄μ–ΈνΈ μƒνƒλ¥Ό μ €μ¥|
|ν™•μ¥μ„±|μ„λ²„ ν™•μ¥μ΄ μ©μ΄|μ„λ²„ ν™•μ¥μ΄ μ–΄λ ¤μ›€|
|κµ¬ν„ λ³µμ΅λ„|λ‹¨μ|λ³µμ΅|
|μ‹ λΆ°μ„±|λ†’μ|μƒλ€μ μΌλ΅ λ‚®μ|

**Stateful λ°©μ‹μ λ¬Έμ μ **:
```typescript
// Stateful μμ‹ (λ°”λμ§ν•μ§€ μ•μ)
let userSession = {
  userId: "123",
  lastAction: "login",
  cartItems: ["item1", "item2"]
};

function handleUserAction(action) {
  // μ„λ²„κ°€ μƒνƒλ¥Ό κ³„μ† κΈ°μ–µν•΄μ•Ό ν•¨
  userSession.lastAction = action;
  // μ„λ²„ μ¥μ• μ‹ λ¨λ“  μƒνƒ μ •λ³΄ μ†μ‹¤
}
```

**Stateless λ°©μ‹μ μ¬λ°”λ¥Έ κµ¬ν„**:
```typescript
// Stateless μμ‹ (κ¶μ¥)
async function handleRequest(request) {
  // ν•„μ”ν• λ¨λ“  μ •λ³΄λ¥Ό μ”μ²­μ— ν¬ν•¨
  const sessionToken = request.headers.authorization;
  const userInfo = await validateSession(sessionToken);
  const cartItems = await getCartItems(userInfo.userId);
  
  // κ° μ”μ²­μ€ λ…λ¦½μ μΌλ΅ μ²λ¦¬ κ°€λ¥
  return {
    user: userInfo,
    cart: cartItems
  };
}
```

π’΅ **Statelessκ°€ ν•„μ”ν• μ΄μ **:

1. **μ„λ²„ ν™•μ¥μ„± (Scale-out)**
```ascii
ν΄λΌμ΄μ–ΈνΈ  ----β†’ μ„λ²„1
          β†
            ----β†’ μ„λ²„2  # μ–΄λ–¤ μ„λ²„λ΅ μ”μ²­μ΄ κ°€λ„ λ™μ‘
          β†—
ν΄λΌμ΄μ–ΈνΈ  ----β†’ μ„λ²„3
```

2. **μ„λ²„ μ¥μ•  λ€μ‘**
```typescript
// μ„λ²„ Aκ°€ μ¥μ• κ°€ λ‚λ„
if (serverA.failed) {
  // μ„λ²„ Bκ°€ μ¦‰μ‹ μ”μ²­ μ²λ¦¬ κ°€λ¥
  redirectToServer(serverB);
}
```

3. **μΊμ‹ ν™μ©**
```http
GET /users/123 HTTP/1.1
Cache-Control: max-age=3600  # λ™μΌν• μ”μ²­μ€ μΊμ‹ κ°€λ¥
```

π’΅ **Statelessμ μ¥μ **:
- **λ†’μ€ ν™•μ¥μ„±**: μ„λ²„λ¥Ό μ†μ‰½κ² μ¶”κ°€/μ κ±° κ°€λ¥
- **μ•μ •μ„±**: μ„λ²„ μ¥μ•  μ‹ λ‹¤λ¥Έ μ„λ²„λ΅ μ¦‰μ‹ μ „ν™ κ°€λ¥
- **λ‹¨μν• κµ¬ν„**: μ„λ²„κ°€ μƒνƒλ¥Ό κ΄€λ¦¬ν•μ§€ μ•μ•„ κµ¬ν„μ΄ λ‹¨μ
- **μΊμ‹ κ°€λ¥**: λ™μΌν• μ”μ²­μ— λ€ν• μ‘λ‹µμ„ μΊμ‹ν•  μ μμ

π’΅ **Stateless κµ¬ν„ μ‹ μ£Όμμ‚¬ν•­**:
- ν•„μ”ν• λ¨λ“  μ •λ³΄λ¥Ό μ”μ²­μ— ν¬ν•¨ν•΄μ•Ό ν•¨
- μΈμ¦ μ •λ³΄λ” ν† ν° λ°©μ‹ μ‚¬μ© (JWT λ“±)
- μ„Έμ…μ΄ ν•„μ”ν• κ²½μ° Redis λ“± λ³„λ„ μ €μ¥μ† μ‚¬μ©

#### c) ν™•μ¥ κ°€λ¥ν• κµ¬μ΅°

HTTPλ” λ‹¤μκ³Ό κ°™μ€ μ΄μ λ΅ ν™•μ¥ κ°€λ¥ν• κµ¬μ΅°λ¥Ό κ°€μ§‘λ‹λ‹¤:

1. **ν—¤λ” ν™•μ¥μ„±**
```http
# κΈ°λ³Έ ν—¤λ”
Content-Type: application/json
Accept: text/html

# μ»¤μ¤ν…€ ν—¤λ” μ¶”κ°€ κ°€λ¥
X-Custom-Header: value
X-Rate-Limit: 100
```

2. **λ©”μ„λ“ ν™•μ¥μ„±**
```http
# κΈ°λ³Έ λ©”μ„λ“
GET /users HTTP/1.1
POST /users HTTP/1.1

# μ»¤μ¤ν…€ λ©”μ„λ“ μ¶”κ°€ κ°€λ¥
PATCH /users/123 HTTP/1.1
CUSTOM-METHOD /resource HTTP/1.1
```

3. **μƒνƒ μ½”λ“ ν™•μ¥μ„±**
```http
# ν‘μ¤€ μƒνƒ μ½”λ“
HTTP/1.1 200 OK
HTTP/1.1 404 Not Found

# μ»¤μ¤ν…€ μƒνƒ μ½”λ“ μ¶”κ°€ κ°€λ¥
HTTP/1.1 499 Client Closed Request
```

π’΅ **ν™•μ¥ κ°€λ¥ν• κµ¬μ΅°κ°€ ν•„μ”ν• μ΄μ **:
- μƒλ΅μ΄ μ›Ή κΈ°μ κ³Ό μ”κµ¬μ‚¬ν•­ μμ©
- λΉ„μ¦λ‹μ¤ μ”κµ¬μ‚¬ν•­μ— λ§λ” μ»¤μ¤ν…€ κΈ°λ¥ κµ¬ν„
- ν•μ„ νΈν™μ„±μ„ μ μ§€ν•λ©΄μ„ ν”„λ΅ν† μ½ μ§„ν™”

### 1.2 HTTP λ©”μ‹μ§€ κΈ°λ³Έ κµ¬μ΅°

```http
# μ”μ²­ λ©”μ‹μ§€ κµ¬μ΅°
POST /api/users HTTP/1.1     # μ‹μ‘ λΌμΈ
Host: api.example.com        # ν—¤λ”
Content-Type: application/json
Authorization: Bearer token123

{                           # λ³Έλ¬Έ
  "name": "John Doe",
  "email": "john@example.com"
}
```

| κµ¬μ„± μ”μ† | μ„¤λ… | μμ‹ |
|---------|------|------|
|μ‹μ‘ λΌμΈ|μ”μ²­/μ‘λ‹µμ μ²« μ¤„|GET /users HTTP/1.1|
|ν—¤λ”|λ©”νƒ€λ°μ΄ν„° ν¬ν•¨|Content-Type: application/json|
|κ³µλ°± λΌμΈ|ν—¤λ”μ™€ λ³Έλ¬Έ κµ¬λ¶„|μ¤„λ°”κΏ λ¬Έμ(CRLF)|
|λ³Έλ¬Έ|μ „μ†΅ν•  λ°μ΄ν„°|{"name": "John"}|

## 2. HTTP vs HTTPS

| κµ¬λ¶„ | HTTP | HTTPS |
|------|------|-------|
|λ³΄μ•|μ•”νΈν™” μ—†μ|SSL/TLS μ•”νΈν™”|
|ν¬νΈ|80|443|
|μ†λ„|λΉ λ¦„|μƒλ€μ μΌλ΅ λλ¦Ό|
|μΈμ¦μ„|λ¶ν•„μ”|SSL μΈμ¦μ„ ν•„μ”|


## 3. HTTP λ²„μ „λ³„ νΉμ§•

### 3.1 HTTP/1.0 vs 1.1

```http
# HTTP/1.0
μ—°κ²° μλ¦½ -> μ”μ²­/μ‘λ‹µ -> μ—°κ²° μΆ…λ£ (λΉ„ν¨μ¨μ )

# HTTP/1.1
μ—°κ²° μλ¦½ -> μ”μ²­/μ‘λ‹µ -> μ”μ²­/μ‘λ‹µ -> ... (Keep-Alive)
```

### 3.2 HTTP/2μ νμ‹ 

```ascii
HTTP/1.1
μ”μ²­1 -----> μ‘λ‹µ1
μ”μ²­2 -----> μ‘λ‹µ2
μ”μ²­3 -----> μ‘λ‹µ3

HTTP/2
μ”μ²­1 -----> 
μ”μ²­2 -----> μ‘λ‹µ2
μ”μ²­3 -----> μ‘λ‹µ1
             μ‘λ‹µ3
```

π’΅ **μ„±λ¥ κ°μ„  ν¬μΈνΈ**:
- λ©€ν‹°ν”λ ‰μ‹±μΌλ΅ λ™μ‹ μ „μ†΅
- ν—¤λ” μ••μ¶•μΌλ΅ λ€μ—­ν­ μ μ•½
- μ„λ²„ ν‘Έμ‹λ΅ λ¦¬μ†μ¤ μ„ μ μ  μ „μ†΅

## 4. μμ£Ό λ§μ£ΌμΉλ” μƒν™©

### 4.1 μμ£Ό λ°μƒν•λ” HTTP μƒνƒ μ½”λ“

| μƒνƒ μ½”λ“ | μλ―Έ | λ€μ² λ°©λ²• |
|-----------|------|-----------|
|200|μ„±κ³µ|μ •μƒ μ²λ¦¬|
|400|μλ»λ μ”μ²­|μ”μ²­ νλΌλ―Έν„° ν™•μΈ|
|401|μΈμ¦ ν•„μ”|λ΅κ·ΈμΈ μƒνƒ ν™•μΈ|
|403|κ¶ν• μ—†μ|μ ‘κ·Ό κ¶ν• ν™•μΈ|
|404|λ¦¬μ†μ¤ μ—†μ|URL κ²½λ΅ ν™•μΈ|
|500|μ„λ²„ μ—λ¬|μ„λ²„ λ΅κ·Έ ν™•μΈ|

### 4.2 λ³΄μ• κ΄€λ ¨ μ£Όμμ‚¬ν•­

```http
# μ·¨μ•½ν• ν—¤λ” μ„¤μ •
X-Frame-Options: DENY
Content-Security-Policy: default-src 'self'
Strict-Transport-Security: max-age=31536000
```

## 5. λ©΄μ ‘ λ€λΉ„ ν•µμ‹¬ μ§λ¬Έ

Q: HTTPμ™€ HTTPSμ μ°¨μ΄μ μ€?
A: HTTPλ” ν‰λ¬Έ ν†µμ‹ , HTTPSλ” SSL/TLSλ΅ μ•”νΈν™”λ ν†µμ‹ μ„ ν•©λ‹λ‹¤.

Q: HTTP/2μ μ£Όμ” νΉμ§•μ€?
A: λ©€ν‹°ν”λ ‰μ‹±, ν—¤λ” μ••μ¶•, μ„λ²„ ν‘Έμ‹κ°€ λ€ν‘μ μ…λ‹λ‹¤.

## 6. μ μ© μμ‹

```typescript
// Fetch APIλ¥Ό μ‚¬μ©ν• HTTP ν†µμ‹ 
async function fetchData() {
  try {
    const response = await fetch('https://api.example.com/data', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
        'Authorization': `Bearer ${token}`
      },
      body: JSON.stringify(data)
    });
    
    if (!response.ok) {
      throw new Error(`HTTP error! status: ${response.status}`);
    }
    
    const result = await response.json();
    return result;
  } catch (error) {
    console.error('λ°μ΄ν„° μ”μ²­ μ‹¤ν¨:', error);
  }
}
```

π’΅ **μ‹¤λ¬΄ ν**:
- ν•­μƒ μ—λ¬ μ²λ¦¬λ¥Ό κ³ λ ¤ν• μ½”λ“ μ‘μ„±
- μ μ ν• νƒ€μ„μ•„μ›ƒ μ„¤μ •
- μ¬μ‹λ„ λ΅μ§ κµ¬ν„ κ²€ν† 

λ‹¤μ ν¬μ¤νΈμ—μ„λ” HTTP ν—¤λ”μ™€ λ©”μ„λ“μ— λ€ν•΄ λ” μμ„Έν μ•μ•„λ³΄κ² μµλ‹λ‹¤.